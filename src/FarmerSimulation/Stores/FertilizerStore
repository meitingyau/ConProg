public class FertilizerStore {
    public HashMap<String, String> getFertilizerByFarm(int farmId) throws SQLException {
        // String sql = "SELECT _id, name FROM `farms`";
        String sql = "select Fer.* from farms F " +
                "left join farmfertilizers FF on F._id=FF.farmId " +
                "inner join fertilizers Fer on FF.fertilizerId=Fer._id " +
                "where F._id=" + Integer.toString(farmId);
        ResultSet result = null;
        HashMap<String, String> fertilizersWithNameAndId = new HashMap<String, String>();
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
            Connection conn = DriverManager.getConnection("jdbc:mysql://127.0.0.1/ifarm", "root", "");
            Statement st = conn.createStatement();
            result = st.executeQuery(sql);
            while (result.next()) {
                fertilizersWithNameAndId.put(result.getString("_id"), result.getString("name"));
            }
            List<Map.Entry<String, String>> list = new LinkedList<Map.Entry<String, String>>(
                    fertilizersWithNameAndId.entrySet());
            // Sort the list
            Collections.sort(list, (o1, o2) -> (o1.getValue()).compareTo(o2.getValue()));
            // put data from sorted list to hashmap
            HashMap<String, String> temp = new LinkedHashMap<String, String>();
            for (Entry<String, String> aa : list) {
                temp.put(aa.getKey(), aa.getValue());
            }
            fertilizersWithNameAndId = temp;
            conn.close();
        } catch (Exception e) {
            System.out.print("Database Connection Error: " + e);
        }
        return fertilizersWithNameAndId;
    }
}
